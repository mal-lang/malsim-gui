<ng-container>
  <app-header [impact]="this.rewardValue.reward" />
  <main>
    <app-suggested-actions
      [ngClass]="{ collapsed: defensesCollapsed, expanded: !defensesCollapsed }"
      #suggestedActions
      [tyrManager]="this.tyrManager"
      (onSuggestionSelected)="this.addExecutedSuggestionToTimeline($event)"
      (onToggleCollapse)="this.collapseDefenseSuggestions($event)"
    />
    <app-asset-graph
      #assetGraph
      id="assetGraphContainer"
      [onNodeClick]="notifyClick"
      [isVisible]="this.displayAssetGraph"
      (simulationStatusEmitter)="setAlertsInterval()"
    />
    <app-attack-graph
      #attackGraph
      [tyrManager]="this.tyrManager"
      [parentCloseAttackGraph]="this.closeAttackGraph"
      (emitter)="updateAttackGraph($event)"
    ></app-attack-graph>
    <aside>
      <app-asset-menu
        #assetMenu
        [tyrManager]="this.tyrManager"
        [openAttackGraph]="this.openAttackGraph"
      />
    </aside>
  </main>
  <app-timeline
    #timeline
    [tyrManager]="this.tyrManager"
    [openAssetMenu]="notifyClick"
    [attackGraphMode]="this.isAttackGraphMode()"
    [displayAttackGraph]="this.displayAttackGraph"
  />
</ng-container>
