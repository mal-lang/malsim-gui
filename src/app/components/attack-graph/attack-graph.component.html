<div class="card bg-dark">
  <div class="card-header text-center">
    {{
      type === "historical" ? "Historical attack Graph" : "Attack graph horizon"
    }}
  </div>
  <div class="card-body">
    <div class="attack-graph-container">
      <ngx-graph
        layout="dagre"
        [draggingEnabled]="false"
        [links]="attackGraphLinks"
        [nodes]="attackGraphNodes"
        [layoutSettings]="layoutSettings"
        [zoomToFit$]="zoomToFit$"
      >
        <ng-template #nodeTemplate let-node>
          <svg:g
            class="node"
            ngx-tooltip
            (click)="onNodeClick($event, node)"
            [tp]="
              node.active && node.logLength
                ? 'Nr of logs produced: ' + node.logLength
                : null
            "
          >
            <svg:rect
              [attr.width]="node.dimension.width"
              [attr.height]="node.dimension.height"
              [attr.fill]="node.color"
            />
            <svg:text
              alignment-baseline="central"
              [attr.x]="10"
              [attr.y]="node.dimension.height / 1.5"
            >
              {{ node.label }}
            </svg:text>
          </svg:g>
        </ng-template>
      </ngx-graph>
    </div>
  </div>
</div>

<app-log-modal #logModal></app-log-modal>
